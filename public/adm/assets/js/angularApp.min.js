var app=angular.module("myApp",["ngRoute","ui.bootstrap","angularUtils.directives.dirPagination","ngFileUpload"]);app.config(["$routeProvider","$locationProvider",function(e,n){n.hashPrefix(""),e.when("/",{}).when("/dashboard",{templateUrl:"dashboard",controller:"dashboardController"}).when("/gallery",{templateUrl:"gallery",controller:"galleryController"}).when("/user-profile",{templateUrl:"change"})}]),app.filter("startFrom",function(){return function(e,n){return n=+n,e.slice(n)}}),app.directive("ngConfirmClick",[function(){return{link:function(e,n,t){var o=t.ngConfirmClick||"Are you sure?",a=t.confirmedClick;n.bind("click",function(n){window.confirm(o)&&e.$eval(a)})}}}]),app.controller("adminController",["$scope","$location","$http","$rootScope","$filter","$window","uibDateParser","$uibModal","$log","$document",function(e,n,t,o,a,r,i,l,s,u){function d(){var n=o.base_url+"admin/user";t.get(n).then(function(n){n.data&&(e.curuser=n.data.username,e.newuser.username=e.curuser)})}function c(n,t,o){var a=o?angular.element(u[0].querySelector(".modal-demo "+o)):void 0;l.open({animation:e.animationsEnabled,templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",controllerAs:"$scope",size:t,appendTo:a,resolve:{items:function(){return n}}}).result.then(function(n){e.selected=n},function(){s.info("Modal dismissed at: "+new Date)})}e.error={};var p=e.baseUrl=n.protocol()+"://"+location.host+"/";o.base_url=p,o.public_url=e.baseUrl=n.protocol()+"://"+location.host,e.paginations=[5,10,20,25],e.numPerPage=10,e.user={},e.curuser={},e.newuser={},e.newuser={},o.loading=!1,e.formdisable=!1,o.loading=!1,e.format="yyyy/MM/dd",e.login=function(){console.log("login");var n=new FormData;angular.forEach(e.user,function(e,t){n.append(t,e)});var a=o.base_url+"login/verify";t.post(a,n,{transformRequest:angular.identity,headers:{"Content-Type":void 0,"Process-Data":!1}}).then(function(e){r.location.href=p+"admin/#/"},function(n){console.log("login error"),console.log(n.data),e.error=n.data,e.showerror=!0})},e.changeProfile=function(){o.loading=!0;var n=new FormData;angular.forEach(e.newuser,function(e,t){n.append(t,e)});var a=o.base_url+"admin/change/submit";t.post(a,n,{transformRequest:angular.identity,headers:{"Content-Type":void 0,"Process-Data":!1}}).then(function(n){o.loading=!1,console.log("profile changed"),e.showmsg=!0,e.formdisable=!0,c("Username and Password changed.","sm"),e.newuser={},d(),e.newuser.username=e.curuser,e.formdisable=!1},function(n){o.loading=!1,e.showerror=!0,c("Try again later.","sm"),e.newuser={},d(),e.newuser.username=e.curuser,e.formdisable=!1})},e.cancel=function(){r.location.href="/#"},e.today=function(){e.date=new Date},e.today(),e.clear=function(){e.date=null},e.inlineOptions={customClass:function(n){var t=n.date;if("day"===n.mode)for(var o=new Date(t).setHours(0,0,0,0),a=0;a<e.events.length;a++)if(o===new Date(e.events[a].date).setHours(0,0,0,0))return e.events[a].status;return""},minDate:new Date,showWeeks:!0},e.dateOptions={formatYear:"yy",maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1},e.toggleMin=function(){e.inlineOptions.minDate=e.inlineOptions.minDate?null:new Date,e.dateOptions.minDate=e.inlineOptions.minDate},e.toggleMin(),e.open1=function(){e.popup1.opened=!0},e.open2=function(){e.popup2.opened=!0},e.setDate=function(n,t,o){e.date=new Date(n,t,o)},e.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],e.format=e.formats[0],e.altInputFormats=["M!/d!/yyyy"],e.popup1={opened:!1},e.popup2={opened:!1};var f=new Date;f.setDate(f.getDate()+1);var m=new Date;m.setDate(f.getDate()+1),e.events=[{date:f,status:"full"},{date:m,status:"partially"}]}]);